# CommentBot
ツイキャスのコメントBOT

## 説明
ツイキャスでは視聴中の配信に対してコメントを書き込みますが、  
ときおり特定のコメントに対応したコメントを書き込むこともあります。  
この作業はいつ必要になるかわからないため、本ツールにより自動化することで意識せずに済むようにします。  
  
例えば、"初見"のコメントが書き込まれたら、歓迎するコメントを自動的に書き込めます。


## 要件
下記ソフトウェアが、PCにインストールされている必要があります。  
- .NET5.0

### インストール確認
下記リンク先の手順を実施すると、インストールされているバージョンを確認できます。  
- [https://docs.microsoft.com/ja-jp/dotnet/core/install/how-to-detect-installed-versions?pivots=os-windows](https://docs.microsoft.com/ja-jp/dotnet/core/install/how-to-detect-installed-versions?pivots=os-windows)


## 使い方
1. コメントBOTを使いたい枠が開始するまで待機します。
2. CommentBot.exeを実行します。
3. 黒いウインドウ画面が表示されたら、実行中のためそのまま放置します。
4. 枠が終了したら、黒いウインドウ画面を閉じてCommentBot.exeを終了します。  
※CommentBot.exeは枠の変更を把握していないため、  
枠が変わったらその都度CommentBot.exeを実行しなおしてください。


## インストール
### インストール
1. 下記リンクのzipファイルをダウンロードしてください。  
   - [http://fumyuun.html.xdomain.jp/tool/CommentBot.zip](http://fumyuun.html.xdomain.jp/tool/CommentBot.zip)
   - ダウンロードできない場合、URLをコピーしてブラウザで開いてみてください。
2. ダウンロードしたzipファイルを解凍してください。
3. 解凍して作成されたフォルダを適当なフォルダに配置してください。


### アカウント設定
1. 下記リンク先を参照してください。
   - [http://fumyuun.php.xdomain.jp/token-comentbot.php](http://fumyuun.php.xdomain.jp/token-comentbot.php)
2. アカウントの利用許可を確認するページが表示されるまで待機してください。  
3. アカウントの利用許可に問題がなければ、「連携アプリを許可」をクリックしてください。
4. access_token(アクセストークン)が書かれたページが表示されるまで待機してください。
5. access_token(アクセストークン)に書かれている英数字をすべて選択してコピーしてくさい。
6. インストールしたツールのフォルダ内にある「config.json」をメモ帳などで表示してください。
7. access_token_bearerの項目にある下記内容へ手順5でコピーした英数字を貼り付けてください。  
   - "取得したアクセストークンを書き込む" → "eyJ0eX～～～"
8. 「config.json」の変更内容を保存して閉じてください。


### 配信者設定
1. インストールしたツールのフォルダ内にある「config.json」をメモ帳などで表示してください。
2. user_idの項目にある下記内容へ配信者のIDを書き込んでください。  
   - "本ツールを使いたい配信者のIDを書き込む" → "xxxxx"
3. 「config.json」の変更内容を保存して閉じてください。


### キーワード設定
「config.json」に本ツールで反応させたいコメントと自動送信するコメントを設定します。  
1. インストールしたツールのフォルダ内にある「config.json」をメモ帳などで表示してください。
2. keywordの項目にある下記内容をキーワードとコメントの組み合わせに変更してください。  
   - キーワードに対して、流したいコメントが単数の場合
~~~
例）
変更前:
"キーワードを書き込む": [ "キーワードが存在するときに流すコメントをこのように書き込む  (「]」のあとに「,」を付ける）" ],

↓

変更後:
"初見": [ "定期コメント" ],
~~~

   - キーワードに対して、流したいコメントが複数の場合
~~~
例）
変更前:
    "コメント複数": [
      "(同じキーワードで流したいコメントが複数ある場合、流すコメントをこのように書き込む１（「,」を付ける）",
      "(同じキーワードで流したいコメントが複数ある場合、流すコメントをこのように書き込む２（「,」を付ける）",
      "(同じキーワードで流したいコメントが複数ある場合、流すコメントをこのように書き込む３（「,」を付けない）"
    ],

↓

変更後:
    "初見": [
      "定期コメント",
      "初見さんいらっしゃい",
      "URLとか"
    ],
~~~
   - 流すコメントの数は「60コメント」を超えないように設定してください。
   - 本ツールとしては影響ありませんが、ツイキャスAPIは1分間に「60コメント」という制限があるため。
   - [ツイキャスAPI](https://apiv2-doc.twitcasting.tv/#comment)
3. キーワードを複数設定する場合、キーワードとコメントの組み合わせのあとに「,」を付けてください。
4. keywordの項目に書き込む最後のキーワードとコメントの組み合わせでは「,」を付けないでください。


### 除外キーワード設定
「config.json」に本ツールで反応させたくないコメントを設定します。  
1. インストールしたツールのフォルダ内にある「config.json」をメモ帳などで表示してください。
2. exclude_keywordの項目にある下記内容を除外したいキーワードに変更してください。  
~~~
例）
変更前:
  "exclude_keyword": [
    "除外するキーワードをこのように書き込む（「,」を付ける）",
    "除外するキーワードをこのように書き込む（「,」を付ける）",
    "除外するキーワードをこのように書き込む（「,」を付けない）"
  ],

↓

変更後:
  "exclude_keyword": [
    "いらっしゃい",
    "初見さん"
  ],
~~~
3. キーワードを複数設定する場合、キーワードとコメントの組み合わせのあとに「,」を付けてください。
4. exclude_keywordの項目に書き込む最後のキーワードとコメントの組み合わせでは「,」を付けないでください。
